<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2.地理定位</title>
    <meta charset="utf-8" />
    <script type="text/javascript" src="http://ajax.useso.com/ajax/libs/jquery/1.7.2/jquery.min.js?ver=3.4.2"></script>
</head>
<body>
    <div id="xyMsg"></div>
    <script type="text/javascript">
        $(function () {
            if (window.navigator.geolocation) {
                //定位
                navigator.geolocation.getCurrentPosition(function (position) {
                    //成功回调函数
                    var cords = position.coords;
                    $('#xyMsg').html('经度：' + cords.longitude + ' 纬度：' + cords.latitude);
                }, function (error) {
                    //错误回调函数
                    var errorMsg = { 1: '位置服务被拒绝', 2: '获取不到位置信息', 3: '获取信息超时' };
                    alert(errorMsg[error.code] + "：" + error.message);
                }, { timeout: 4000, maximumAge: 60 * 1000 * 2 });
            } else {
                alert('不支持H5 Geolocation');
            }
        });
    </script>
</body>
</html>
